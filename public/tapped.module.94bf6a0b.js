!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,s,a){Object.defineProperty(e,t,{get:s,set:a,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire0d75;s.register("fy07p",(function(a,n){var i;i=a.exports,Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),t(a.exports,"default",(function(){return r}));var o=s("9Rz4h"),l=s("29YtJ"),r=new Promise((async t=>{t(class{async create(e){this.soundModuleLoaded||(this.soundModule=new(await(await s("kqTke")).default),this.soundModuleLoaded=!0),this.elLastTapTime=[];for(let t=0;t<this.elements.length;t++)this.elLastTapTime[t]=0,this.elements[t].dataset.listener=`${e}${btoa("<o_o<the_game")}`,this.observer.observe(this.elements[t],atob(e),(async s=>{0===this.elLastTapTime[t]||s.time>=this.elLastTapTime[t]+2*this.animPlayTimeInMs||s.element.classList.contains("more")&&s.element.classList.contains(this.animClassName)?(s.element.classList.contains("more")?this.showMore(s.element,e):this.play(s.element),this.elLastTapTime[t]=s.time):this.spam()}))}async play(e){e.classList.add(this.animClassName),e.classList.add(this.spriteClassName),this.playSoundIfSound(e),setTimeout((()=>{e.classList.remove(this.animClassName)}),this.animPlayTimeInMs),setTimeout((()=>{e.classList.remove(this.spriteClassName)}),2*this.animPlayTimeInMs)}async showMore(t,s){const a=Array.from(document.querySelectorAll(".card")),n=t.closest(".card"),i=t.querySelector(".icon");if("<o_o<"===t.dataset.nxtcl)return t.dataset.nxtcl=">o_o>",t.classList.remove(this.animClassName),setTimeout((()=>{a.find((e=>{n!==e&&(e.style.zIndex="auto")})),i&&(i.style.opacity="1")}),this.animPlayTimeInMs);if(!t.dataset.nxtcl||">o_o>"===t.dataset.nxtcl){t.dataset.nxtcl="<o_o<",a.find((e=>{n!==e&&(e.style.zIndex="0")})),i&&(i.style.opacity="0");const r=document.querySelector("._czd");return r&&(0,o.getHtml)(e(l)).then((e=>{(0,o.getKData)(t.dataset.k).then((a=>{for(const[t,s]of Object.entries(a)){const a=new RegExp(`{o_o}${t}{o_o}`,"gm");e=e.replace(a,s)}r.innerHTML=e,window.__lazyload.load(".js-lazy:not(.b-loaded)"),setTimeout((()=>{if(t.classList.contains(this.animClassName)){r.classList.add(this.animClassName);const e=this.observer.observe(r,atob(s),(async a=>{a.target instanceof HTMLAnchorElement||this.closeShowMore(a.element,t,e,s)}),!0,!0)}}),this.animPlayTimeInMs)}))})),t.classList.add(this.animClassName)}}async playSoundIfSound(e){if(!this.soundModule)throw new Error("Could not load sound module");this.soundModule&&e.dataset.k&&(console.log(this.soundModule,e.dataset.k),e.dataset.kSound?this.audioPlayer=await this.soundModule.start(e.dataset.kSound,this.audioPlayer):(0,o.getKData)(e.dataset.k).then((async t=>{e.dataset.kSound||(e.dataset.kSound=t.SOUND),this.audioPlayer=await this.soundModule.start(t.SOUND,this.audioPlayer)})).catch((e=>{throw new Error(`\n                                No sound found inside the kData file\n\n                                ==> ${e.message}\n                            `)})))}async closeShowMore(e,t,s,a){s.unsubscribe(),e.classList.remove(this.animClassName),setTimeout((async()=>{t.dispatchEvent(await this.observer.emit(atob(a),{cancelable:!0}))}),this.animPlayTimeInMs)}async spam(){console.log("Pourquoi tu spam ?")}constructor(e,t){this.elements=e,this.observer=t,this.animPlayTimeInMs=510,this.animClassName="tapped",this.animStopClassName="untapped",this.spriteClassName="sprite",this.soundModuleLoaded=!1}})}))})),s.register("9Rz4h",(function(e,s){async function a(e){const t=await fetch(e);return await t.text()}async function n(e){const t=await fetch(`./data/${e}.k`),s=(await t.text()).split(/::+|\r\n/gim);let a={};for(let e=0;e<s.length;e++)e%2&&(a[s[e-1]]=s[e]);return a}t(e.exports,"getHtml",(function(){return a})),t(e.exports,"getKData",(function(){return n}))})),s.register("29YtJ",(function(e,t){e.exports=s("ai42B").getBundleURL("eFOFh")+s("gTwGg").resolve("t4UJ3")})),s.register("kqTke",(function(e,t){e.exports=s("aO51g")(s("ai42B").getBundleURL("eFOFh")+s("gTwGg").resolve("YJE77")).then((()=>s("dzAth")))}))}();